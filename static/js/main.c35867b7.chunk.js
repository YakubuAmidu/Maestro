(this.webpackJsonpmusicmaestro=this.webpackJsonpmusicmaestro||[]).push([[0],{11:function(e,t,a){},14:function(e,t,a){e.exports=a(24)},24:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),l=a.n(s),c=a(5),i=a(6),o=a(8),u=a(7),m=(a(11),a(26)),p=a(27),h=a(29),f=a(28),v=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e={name:" ",followers:{total:" "},image:[{url:" "}],genres:[]};return e=null!==this.props.artist?this.props.artist:e,r.a.createElement("div",{className:"profile"},r.a.createElement("img",{alt:"Profile",className:"profile-img",src:e.images[0].url}),r.a.createElement("div",{className:"profile-info"},r.a.createElement("div",{className:"profile-name"},e.name),r.a.createElement("div",{className:"profile-followers"},e.followers.total,"followers"),r.a.createElement("div",{className:"profile-genres"},e.genres.map((function(t,a){return t=t!==e.genres[e.genres.length-1]?" ".concat(t,","):" & ".concat(t),r.a.createElement("span",{key:a},t)})))))}}]),a}(n.Component),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={playingUrl:"",audio:null,playing:!1},n}return Object(i.a)(a,[{key:"playAudio",value:function(e){var t=new Audio(e);this.state.playing?this.state.playingUrl===e?(this.state.audio.pause(),this.setState({playing:!1})):(this.state.audio.pause(),t.play(),this.setState({playing:!0,playingUrl:e,audio:t})):(t.play(),this.setState({playing:!0,playingUrl:e,audio:t}))}},{key:"render",value:function(){var e=this,t=this.props.tracks;return r.a.createElement("div",null,t.map((function(t,a){var n=t.album.images[0].url;return r.a.createElement("div",{key:a,className:"track",onClick:function(){return e.playAudio(t.preview_url)}},r.a.createElement("img",{src:n,className:"track-img",alt:"track"}),r.a.createElement("div",{className:"track-play"},r.a.createElement("div",{className:"track-play-inner"},e.state.playingUrl===t.preview_url?r.a.createElement("span",null,"| |"):r.a.createElement("span",null,"\u25b6"))),r.a.createElement("p",{className:"track-text"},t.name))})))}}]),a}(n.Component),d=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={query:" ",artist:null,tracks:[]},n}return Object(i.a)(a,[{key:"search",value:function(){var e=this;console.log("this.state",this.state);var t="".concat("https://api.spotify.com/v1/search?","q=").concat(this.state.query,"&type=artist&limit=1");console.log("FETCH_URL",t),fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(a){var n=a.artists.items[0];e.setState({artist:n}),t="".concat("https://api.spotify.com/v1/artists/").concat(n.id,"/top-tracks?country=US&"),fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("artist's top tracks:",t);var a=t.tracks;e.setState({tracks:a})}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-title"},"Music Maestro"),r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(h.a,{type:"text",placeholder:"search for an artist..",value:this.state.query,onChange:function(t){e.setState({query:t.target.value})},onKeyPress:function(t){"Enter"===e.key&&e.search()}}),r.a.createElement(f.a,{onClick:function(){return e.search()}},"search"))),null!==this.state.artist?r.a.createElement("div",null,r.a.createElement(v,{artist:this.state.artist}),r.a.createElement(y,{tracks:this.state.tracks})):r.a.createElement("div",null))}}]),a}(n.Component);l.a.render(r.a.createElement(d,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.c35867b7.chunk.js.map